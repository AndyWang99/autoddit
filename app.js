(function(e){function t(t){for(var n,i,s=t[0],c=t[1],d=t[2],l=0,f=[];l<s.length;l++)i=s[l],a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,d||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/autoddit/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"03f8":function(e,t,r){},"21bb":function(e,t,r){"use strict";var n=r("bcc9"),a=r.n(n);a.a},"5c0b":function(e,t,r){"use strict";var n=r("5e27"),a=r.n(n);a.a},"5e27":function(e,t,r){},"662e":function(e,t,r){},b445:function(e){e.exports={example:{text:"hello world",phone:"4759349273"}}},bcc9:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],i=r("b445"),s=n["default"].extend({name:"home",components:{},data:function(){return{json:{}}},mounted:function(){this.json=i,console.log(i)}}),c=s,d=(r("5c0b"),r("2877")),u=Object(d["a"])(c,a,o,!1,null,null,null),l=u.exports,f=r("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("b-container",{staticClass:"p-5",attrs:{fluid:""}},[r("b-row",[r("button",{on:{click:e.toggleTTS}},[e._v("\n        Enable text-to-speech: "+e._s(e.enableTTS)+"\n      ")])]),r("b-row",[e.doneLoading?r("b-col",[r("b-row",[e._v(e._s(e.threadsFiltered[e.currThread].title))]),r("b-row",[e._v(e._s(e.threadsFiltered[e.currThread].selftext))]),e.threadsFiltered[e.currThread].img?r("b-row",[r("img",{staticClass:"media",attrs:{src:e.threadsFiltered[e.currThread].url}})]):e._e(),e.threadsFiltered[e.currThread].vid?r("b-row",[r("iframe",{staticClass:"media",attrs:{allow:"autoplay",src:e.threadsFiltered[e.currThread].vid}})]):e._e(),r("comments",{attrs:{comments:e.threadsFiltered[e.currThread].comments}})],1):e._e(),e.doneLoading?e._e():r("b-col",[r("b-row",[r("loading")],1)],1)],1)],1)],1)},m=[],p=(r("4917"),r("ac6a"),r("f3e2"),r("96cf"),r("3b8d")),v=(r("d25f"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"comments"},[r("b-row",[r("b-col",e._l(e.comments,(function(t){return r("b-row",{key:t.body,staticClass:"mb-2"},[r("b-col",[r("b-row",{style:e.style},[e._v("\n            "+e._s(t.body)+"\n          ")]),t.replies?r("comments",{attrs:{comments:t.replies,depth:e.depth+1}}):e._e()],1)],1)})),1)],1)],1)}),b=[],g=(r("c5f6"),n["default"].extend({name:"comments",props:{comments:Array,depth:{type:Number,default:0}},computed:{style:function(){var e=5*Number(this.depth);return"padding-left: "+e+"vw"}}})),T=g,w=(r("e249"),Object(d["a"])(T,v,b,!1,null,"611edc11",null)),y=w.exports,_=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},S=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lds-dual-ring"},[r("div")])}],x=n["default"].extend({name:"loading"}),j=x,F=(r("fc4a"),Object(d["a"])(j,_,S,!1,null,"e848d2de",null)),C=F.exports,I=n["default"].extend({name:"home",components:{Comments:y,Loading:C},data:function(){return{threads:[],currThread:0,enableTTS:!1,doneLoading:!1,intervalId:-1}},computed:{threadsFiltered:function(){var e=this,t=this.threads.filter((function(t){return e.isUrlComments(t.url)||t.img||t.vid}));return t}},created:function(){var e=this;e.getPostsAndComments("aww","hot")},methods:{getPostsAndComments:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this,e.next=3,fetch("https://www.reddit.com/r/"+t+"/"+r+".json");case 3:return a=e.sent,e.next=6,a.json();case 6:o=e.sent,i=o.data.children,i.forEach(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var r,a,o,s,c,d,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://www.reddit.com"+t.data.permalink+".json?limit=3",e.next=3,fetch(r);case 3:return a=e.sent,e.next=6,a.json();case 6:o=e.sent,s=function e(t){var r=[];return t.forEach((function(t){if(t.data.body){var n={body:t.data.body,replies:t.data.replies?e(t.data.replies.data.children):[]};r.push(n)}})),r},c=o[1].data.children,d=s(c),u=o[0].data.children[0].data,l={title:u.title,selftext:u.selftext,url:u.url,img:n.isUrlImg(u.url)?u.url:"",vid:u.media&&u.media.reddit_video?u.media.reddit_video.fallback_url:"",duration:u.media&&u.media.reddit_video?1e3*u.media.reddit_video.duration:0,comments:d},n.threads.push(l),t===i[i.length-1]&&(n.doneLoading=!0,n.enableTTS||(n.intervalId=n.incrementCurrThreadInterval()));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),isUrlImg:function(e){return null!=e.match(/\.(jpeg|jpg|gif|png)$/)},isUrlComments:function(e){return null!=e.match(/www.reddit.com/)},toggleTTS:function(){this.enableTTS=!this.enableTTS,this.enableTTS?this.doTTS():this.doInterval()},doTTS:function(){var e=this;if(e.enableTTS){clearInterval(e.intervalId);var t=e.threadsFiltered[e.currThread].title+". ";e.threadsFiltered[e.currThread].selftext&&(t+=e.threadsFiltered[e.currThread].selftext+". ");var r=new SpeechSynthesisUtterance(t);r.addEventListener("end",(function(t){if(e.enableTTS){var r=0;e.threadsFiltered[e.currThread].vid?r=e.threadsFiltered[e.currThread].duration:e.threadsFiltered[e.currThread].img&&(r=3e3),setTimeout((function(){var t=e.commentsSpeechify(e.threadsFiltered[e.currThread].comments),r=new SpeechSynthesisUtterance(t);r.addEventListener("end",(function(t){e.enableTTS&&(e.currThread++,e.doTTS())})),speechSynthesis.speak(r)}),r)}})),speechSynthesis.speak(r)}},doInterval:function(){var e=this;e.enableTTS||(speechSynthesis.cancel(),e.intervalId=e.incrementCurrThreadInterval())},incrementCurrThreadInterval:function(){var e=this,t=5e3;return e.threadsFiltered[e.currThread].vid?t+=e.threadsFiltered[e.currThread].duration:e.threadsFiltered[e.currThread].img&&(t+=3e3),setInterval((function(){e.currThread++,clearInterval(e.intervalId),e.intervalId=e.incrementCurrThreadInterval()}),t)},commentsSpeechify:function(e){var t=this,r="";return e.forEach((function(e){r+=e.body+". "+t.commentsSpeechify(e.replies)})),r}}}),k=I,O=(r("21bb"),Object(d["a"])(k,h,m,!1,null,null,null)),E=O.exports;n["default"].use(f["a"]);var P=new f["a"]({mode:"history",base:"/autoddit/",routes:[{path:"/",name:"home",component:E}]}),L=r("9483");Object(L["a"])("".concat("/autoddit/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("21b6");var $=r("5f5b");n["default"].use($["a"]),n["default"].config.productionTip=!1,new n["default"]({router:P,render:function(e){return e(l)}}).$mount("#app")},e249:function(e,t,r){"use strict";var n=r("662e"),a=r.n(n);a.a},fc4a:function(e,t,r){"use strict";var n=r("03f8"),a=r.n(n);a.a}});
//# sourceMappingURL=app.js.map